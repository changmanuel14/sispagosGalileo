{% extends "layout.html" %}
{% block content %}
<div class="page-wrapper chiller-theme toggled">
	<a id="show-sidebar" class="btn btn-sm btn-dark" href="#">
		<i class="fas fa-bars"></i>
	</a>
	<nav id="sidebar" class="sidebar-wrapper">
		<div class="sidebar-content">
			<div class="sidebar-brand">
				<div id="close-sidebar">
					<i class="fas fa-times"></i>
				</div>
			</div>
			<!-- sidebar-header  -->
			<div class="sidebar-menu">
				<ul>
					<li class="header-menu">
						<span>Opciones</span>
					</li>
					<br>
					<li>
						<a href="/i">
							<span>Inscripciones</span>
						</a>
					</li>
					<li>
						<a href="/auxenf">
							<span>Auxiliar de Enfermeria</span>
						</a>
					</li>
					<li>
						<a href="/optica">
							<span>Óptica</span>
						</a>
					</li>
					<li>
						<a href="/laboratorio">
							<span>Laboratorio</span>
						</a>
					</li>
					<li>
						<a href="/academia">
							<span>Academia</span>
						</a>
					</li>
					<li>
						<a href="/p">
							<span>Practica</span>
						</a>
					</li>
					<li>
						<a href="/m">
							<span>Manuales</span>
						</a>
					</li>
					<li>
						<a href="/pag">
							<span>Pagos</span>
						</a>
					</li>
					<li>
						<a href="/ingles">
							<span>Ingles</span>
						</a>
					</li>
					<li>
						<a href="/extra">
							<span>Pagos Extra</span>
						</a>
					</li>
					<li>
						<a href="/parqueo">
							<span>Parqueo</span>
						</a>
					</li>
					<li>
						<a href="/u">
							<span>Uniformes</span>
						</a>
					</li>
					<li>
						<a href="/grad">
							<span>Graduacion</span>
						</a>
					</li>
					<!-- sidebar-menu  -->
					<!-- sidebar-content  -->
	</nav>
	<!-- sidebar-wrapper  -->
	<main class="page-content" id="main">
		<div class="container">
			<center>
				<h1>Prácticas</h1>
			</center>
			<hr>
			<form action="" method="POST">
				<center> <label for="carrera" style="color: black;"> <strong>
							<h4>Seleccione la carrera:</h4>
						</strong></label>

					<select name="carrera" id="carrera" class="inputtext" onchange="cambio()" required>
						<option value="">Seleccione carrera</option>
						{% for i in carreras %}
						<option value="{{i[0]}},{{i[2]}}">{{i[2]}}</option>
						{% endfor %}
					</select><input type="number" class="inputtext5" id="cant" name="cant" value="1" readonly>
				</center>
				<center>
					<input type="text" id="carnet" name="carnet" class="inputtext" required
						placeholder="  Carné">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<input type="text" id="nombre" name="nombre" class="inputtext1" required placeholder="  Nombre"
						onblur="mayusculas()"><br>
					<br>
					<div id="myDiv">
						<input type="text" id="mes1" name="mes1" class="inputtext1" required
							placeholder="  Descripción">
					</div>
					<br>
					<div id="practicalenq" style="display: none;">
						<center>
							<input type="text" id="lugar" name="lugar" class="inputtext1" placeholder="  Lugar"><br><br>
							<input type="date" id="fechainicio" name="fechainicio"
								class="inputtext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<input type="date" id="fechafin" name="fechafin" class="inputtext">
						</center>
					</div>
				</center>
				<br>
				<center><button onclick="submit" class="button">Aceptar</button> <button type="button" class="button"
						onclick="agregar()">Agregar Campo</button> <button type="button" class="button"
						onclick="eliminar('')">Eliminar Campo</button></center>
				<br>
				<hr>
			</form>
		</div>
	</main>
	<!-- page-content" -->
</div>
<datalist id="meses">
	{% for i in meses %}
	<option value="{{i}}">
		{% endfor %}
</datalist>
<datalist id="modulos">
	{% for i in numeros %}
	<option value="{{i}}">
		{% endfor %}
</datalist>
<datalist id="pracenf">
	<option value="1) Práctica Hospitalaria - Pago 1"></option>
	<option value="1) Práctica Hospitalaria - Pago 2"></option>
	<option value="1) Práctica Hospitalaria - Pago 3"></option>
	<option value="2) Práctica Enfermería Preventiva - Pago 1"></option>
	<option value="2) Práctica Enfermería Preventiva - Pago 2"></option>
	<option value="2) Práctica Enfermería Preventiva - Pago 3"></option>
	<option value="3) Práctica Médico Quirúrgica - Pago 1"></option>
	<option value="3) Práctica Médico Quirúrgica - Pago 2"></option>
	<option value="3) Práctica Médico Quirúrgica - Pago 3"></option>
	<option value="4) Práctica Enfermería Niños y Adolescentes - Pago 1"></option>
	<option value="4) Práctica Enfermería Niños y Adolescentes - Pago 2"></option>
	<option value="4) Práctica Enfermería Niños y Adolescentes - Pago 3"></option>
	<option value="5) Práctica Materno Infantil - Pago 1"></option>
	<option value="5) Práctica Materno Infantil - Pago 2"></option>
	<option value="5) Práctica Materno Infantil - Pago 3"></option>
	<option value="6) Práctica Administrativa - Pago 1"></option>
	<option value="6) Práctica Administrativa - Pago 2"></option>
	<option value="6) Práctica Administrativa - Pago 3"></option>
</datalist>
<script type="text/javascript">
	function mayusculas() {
		var nombre = document.getElementById('nombre').value
		nombre = nombre.toUpperCase()
		document.getElementById('nombre').value = nombre
	}
</script>
<script type="text/javascript">
	function eliminar() {
		var num = parseInt(document.getElementById('cant').value)
		if (num > 1) {
			var input = document.getElementById('mes' + String(num))
			var div = document.getElementById('myDiv')
			var brs = div.getElementsByTagName('br')
			var largo = brs.length
			input.remove()
			brs[largo - 1].remove()
			document.getElementById('cant').value = num - 1
		}
	}
	function agregar() {
		var div = document.getElementById('myDiv')
		var input = document.createElement('input')
		var num = parseInt(document.getElementById('cant').value) + 1
		document.getElementById('cant').value = num
		input.type = 'text'
		input.id = 'mes' + String(num)
		input.name = 'mes' + String(num)
		input.className = 'inputtext1'
		var br = document.createElement('br')
		div.appendChild(br)
		div.appendChild(input)
		cambio();
	}
	function cambio() {
		var select = document.getElementById('carrera')
		var aux = select.value
		var aux = aux.split(',')[1]
		var num = document.getElementById('cant').value
		var datalenq = document.getElementById('practicalenq')
		for (var i = 1; i <= parseInt(num); i++) {
			var aux1 = 'mes' + String(i)
			var desc = document.getElementById(aux1)
			if (aux.includes('LBCQ') || aux.includes('MGGQ') || aux.includes('TLCQ')) {
				desc.placeholder = 'Mes'
				desc.setAttribute('list', 'meses')
				datalenq.style.display = 'none'
			} else if (aux.includes('LENQ')) {
				desc.placeholder = 'Tipo de Práctica'
				desc.setAttribute('list', 'pracenf')
				datalenq.style.display = 'block'
			} else if (aux.includes('THDQ') || (aux.includes('TRADQ') && !(aux.includes('Prepractica'))) || aux.includes('Optometria') && aux.includes('EPS')) {
				desc.placeholder = 'Descripción'
				desc.setAttribute('list', '')
				datalenq.style.display = 'none'
				if (aux.includes('THDQ')) desc.value = 'Pago de Práctica THDQ';
				else if (aux.includes('Optometria')) desc.value = 'Pago de EPS TOPTQ';
				else desc.value = 'Pago de Práctica TRADQ';
				datalenq.style.display = 'none'
			} else if (aux.includes('TOPTQ') && !(aux.includes('EPS')) || aux.includes('TRADQ')) {
				desc.placeholder = 'Módulo'
				desc.setAttribute('list', 'modulos')
				datalenq.style.display = 'none'
			} else if (aux.includes('TUEVQ')) {
				desc.setAttribute('list', '')
				desc.placeholder = 'Monto'
				datalenq.style.display = 'none'
			} else {
				desc.setAttribute('list', '')
				desc.placeholder = 'Descripción'
				datalenq.style.display = 'none'
			}
		}

	}

</script>
<!-- page-wrapper -->
{% endblock %}