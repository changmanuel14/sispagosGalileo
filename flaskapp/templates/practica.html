{% extends "layout.html" %}
{% block content %}
<div class="page-wrapper chiller-theme toggled">
	<a id="show-sidebar" class="btn btn-sm btn-dark" href="#">
		<i class="fas fa-bars"></i>
	</a>
	<nav id="sidebar" class="sidebar-wrapper">
		<div class="sidebar-content">
			<div class="sidebar-brand">
				<div id="close-sidebar">
					<i class="fas fa-times"></i>
				</div>
			</div>
			<!-- sidebar-header  -->
			<div class="sidebar-menu">
				<ul>
					<li class="header-menu">
						<span>Opciones</span>
					</li>
					<br>
					<li>
						<a href="/i">
							<span>Inscripciones</span>
						</a>
					</li>
					<li>
						<a href="/auxenf">
							<span>Auxiliar de Enfermeria</span>
						</a>
					</li>
					<li>
						<a href="/optica">
							<span>Óptica</span>
						</a>
					</li>
					<li>
						<a href="/laboratorio">
							<span>Laboratorio</span>
						</a>
					</li>
					<li>
						<a href="/academia">
							<span>Academia</span>
						</a>
					</li>
					<li>
						<a href="/p">
							<span>Practica</span>
						</a>
					</li>
					<li>
						<a href="/m">
							<span>Manuales</span>
						</a>
					</li>
					<li>
						<a href="/pag">
							<span>Pagos</span>
						</a>
					</li>
					<li>
						<a href="/ingles">
							<span>Ingles</span>
						</a>
					</li>
					<li>
						<a href="/extra">
							<span>Pagos Extra</span>
						</a>
					</li>
					<li>
						<a href="/parqueo">
							<span>Parqueo</span>
						</a>
					</li>
					<li>
						<a href="/u">
							<span>Uniformes</span>
						</a>
					</li>
					<li>
						<a href="/grad">
							<span>Graduacion</span>
						</a>
					</li>
					<!-- sidebar-menu  -->
					<!-- sidebar-content  -->
	</nav>
	<!-- sidebar-wrapper  -->
	<main class="page-content" id="main">
		<div class="container">
			<center>
				<h1>Prácticas</h1>
			</center>
			<hr>
			<form action="" method="POST">
				<div class="form-row">
					<div class="col-md-12">
						<label for="carrera">Carrera</label>
						<select class="form-control" id="carrera" name="carrera" onchange="cambio()" required>
							<option value="">Seleccione carrera</option>
							{% for i in carreras %}
							<option value="{{i[0]}},{{i[2]}}">{{i[2]}}</option>
							{% endfor %}
						</select>
						<input type="hidden" id="cant" name="cant" value="1" readonly>
					</div>
				</div>
				<div class="form-row">
					<div class="col-md-6">
						<label for="carnet">Carnet</label>
						<input type="text" class="form-control" name="carnet" id="carnet" placeholder="Carnet" required>
					</div>
					<div class="col-md-6">
						<label for="nombre">Nombre</label>
						<input type="text" class="form-control" name="nombre" id="nombre" placeholder="Nombre"
							onblur="mayusculas()" required>
					</div>
				</div>
				<div id="myDiv">
					<label for="mes1">Descripción</label>
					<input type="text" id="mes1" name="mes1" class="form-control" required placeholder="Descripción">
				</div>
				<div id="practicalenq" style="display: none;">
					<div class="form-row">
						<div class="col-md-12">
							<label for="lugar">Lugar</label>
							<input type="text" id="lugar" name="lugar" class="form-control" placeholder="Lugar">
						</div>
					</div>
					<div class="form-row">
						<div class="col-md-6">
							<label for="fechainicio">Fecha Inicio</label>
							<input type="date" class="form-control" name="fechainicio" id="fechainicio">
						</div>
						<div class="col-md-6">
							<label for="fechafin">Fecha Fin</label>
							<input type="date" class="form-control" name="fechafin" id="fechafin">
						</div>
					</div>
				</div>
				<br>
				<center>
					<input class="btn btn-primary" type="submit" value="Aceptar">
					<button type="button" class="btn btn-success" onclick="agregar()">Agregar Campo</button> 
					<button type="button" class="btn btn-danger" onclick="eliminar()">Eliminar Campo</button>
				</center>
				<br>
				<hr>
			</form>
		</div>
	</main>
	<!-- page-content" -->
</div>
<datalist id="meses">
	{% for i in meses %}
	<option value="{{i}}">
		{% endfor %}
</datalist>
<datalist id="modulos">
	{% for i in numeros %}
	<option value="{{i}}">
		{% endfor %}
</datalist>
<datalist id="pracenf">
	<option value="1) Práctica Hospitalaria - Pago 1"></option>
	<option value="1) Práctica Hospitalaria - Pago 2"></option>
	<option value="1) Práctica Hospitalaria - Pago 3"></option>
	<option value="2) Práctica Enfermería Preventiva - Pago 1"></option>
	<option value="2) Práctica Enfermería Preventiva - Pago 2"></option>
	<option value="2) Práctica Enfermería Preventiva - Pago 3"></option>
	<option value="3) Práctica Médico Quirúrgica - Pago 1"></option>
	<option value="3) Práctica Médico Quirúrgica - Pago 2"></option>
	<option value="3) Práctica Médico Quirúrgica - Pago 3"></option>
	<option value="4) Práctica Enfermería Niños y Adolescentes - Pago 1"></option>
	<option value="4) Práctica Enfermería Niños y Adolescentes - Pago 2"></option>
	<option value="4) Práctica Enfermería Niños y Adolescentes - Pago 3"></option>
	<option value="5) Práctica Materno Infantil - Pago 1"></option>
	<option value="5) Práctica Materno Infantil - Pago 2"></option>
	<option value="5) Práctica Materno Infantil - Pago 3"></option>
	<option value="6) Práctica Administrativa - Pago 1"></option>
	<option value="6) Práctica Administrativa - Pago 2"></option>
	<option value="6) Práctica Administrativa - Pago 3"></option>
</datalist>
<script type="text/javascript">
	function mayusculas() {
		var nombre = document.getElementById('nombre').value
		nombre = nombre.toUpperCase()
		document.getElementById('nombre').value = nombre
	}
</script>
<script type="text/javascript">
	function eliminar() {
		var num = parseInt(document.getElementById('cant').value)
		if (num > 1) {
			var input = document.getElementById('mes' + String(num))
			var div = document.getElementById('myDiv')
			var brs = div.getElementsByTagName('br')
			var largo = brs.length
			input.remove()
			document.getElementById('cant').value = num - 1
		}
	}
	function agregar() {
		var div = document.getElementById('myDiv')
		var input = document.createElement('input')
		var num = parseInt(document.getElementById('cant').value) + 1
		document.getElementById('cant').value = num
		input.type = 'text'
		input.id = 'mes' + String(num)
		input.name = 'mes' + String(num)
		input.className = 'form-control'
		div.appendChild(input)
		cambio();
	}
	function cambio() {
		var select = document.getElementById('carrera')
		var aux = select.value
		var aux = aux.split(',')[1]
		var num = document.getElementById('cant').value
		var datalenq = document.getElementById('practicalenq')
		for (var i = 1; i <= parseInt(num); i++) {
			var aux1 = 'mes' + String(i)
			var desc = document.getElementById(aux1)
			if (aux.includes('LBCQ') || aux.includes('MGGQ') || aux.includes('TLCQ')) {
				desc.placeholder = 'Mes'
				desc.setAttribute('list', 'meses')
				datalenq.style.display = 'none'
			} else if (aux.includes('LENQ')) {
				desc.placeholder = 'Tipo de Práctica'
				desc.setAttribute('list', 'pracenf')
				datalenq.style.display = 'block'
			} else if (aux.includes('THDQ') || aux.includes('Peritoneal') || (aux.includes('TRADQ') && !(aux.includes('Prepractica'))) || aux.includes('Optometria') && aux.includes('EPS')) {
				desc.placeholder = 'Descripción'
				desc.setAttribute('list', '')
				datalenq.style.display = 'none'
				if (aux.includes('THDQ')) desc.value = 'Pago de Práctica THDQ';
				else if (aux.includes('Peritoneal')) desc.value = 'Pago de Práctica Diálisis Peritoneal';
				else if (aux.includes('Optometria')) desc.value = 'Pago de EPS TOPTQ';
				else desc.value = 'Pago de Práctica TRADQ';
				datalenq.style.display = 'none'
			} else if (aux.includes('TOPTQ') && !(aux.includes('EPS')) || aux.includes('TRADQ')) {
				desc.placeholder = 'Módulo'
				desc.setAttribute('list', 'modulos')
				datalenq.style.display = 'none'
			} else if (aux.includes('TUEVQ')) {
				desc.setAttribute('list', '')
				desc.placeholder = 'Monto'
				datalenq.style.display = 'none'
			} else {
				desc.setAttribute('list', '')
				desc.placeholder = 'Descripción'
				datalenq.style.display = 'none'
			}
		}
	}
</script>
{% endblock %}