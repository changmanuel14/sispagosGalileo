{% extends "layout.html" %}
{% block content %}
<div class="page-wrapper chiller-theme toggled">
    <a id="show-sidebar" class="btn btn-sm btn-dark" href="#">
        <i class="fas fa-bars"></i>
    </a>
    <nav id="sidebar" class="sidebar-wrapper">
        <div class="sidebar-content">
            <div class="sidebar-brand">
                <div id="close-sidebar">
                    <i class="fas fa-times"></i>
                </div>
            </div>
            <!-- sidebar-header  -->

            <div class="sidebar-menu">
                <ul>
                    <br>
                    <li>
                        <a href="/i">
                            <span>Inscripciones</span>
                        </a>
                    </li>
					<li>
                        <a href="/auxenf">
                            <span>Auxiliar de Enfermeria</span>
                        </a>
                    </li>
					<li>
                        <a href="/optica">
                            <span>Óptica</span>
                        </a>
                    </li>
                    <li>
                        <a href="/laboratorio">
                            <span>Laboratorio</span>
                        </a>
                    </li>
                    <li>
                        <a href="/academia">
                            <span>Academia</span>
                        </a>
                    </li>
                    <li>
                        <a href="/p">
                            <span>Practica</span>
                        </a>
                    </li>
                    <li>
                        <a href="/m">
                            <span>Manuales</span>
                        </a>
                    </li>
                    <li>
                        <a href="/pag">
                            <span>Pagos</span>
                        </a>
                    </li>
                    <li>
                        <a href="/ingles">
                            <span>Ingles</span>
                        </a>
                    </li>
            
                    <li>
                        <a href="/extra">
                            <span>Pagos Extra</span>
                        </a>
                    </li>
                    <li>
                        <a href="/parqueo">
                            <span>Parqueo</span>
                        </a>
                    </li>
					<li>
                        <a href="/u">
                            <span>Uniformes</span>
                        </a>
                    </li>
					<li>
                        <a href="/grad">
                            <span>Graduacion</span>
                        </a>
                    </li>
    </nav>
    <!-- sidebar-wrapper  -->
    <main class="page-content" id="main">
        <div class="container">
            <center>
                <h1>Ingles</h1>
            </center>

            <hr>
            <form action="" method="POST">
                <center> <label for="plan" style="color: black;"> <strong>
                            <h4>Seleccione el plan de estudios:</h4>
                        </strong></label>
                    <select name="plan" id="plan" class="inputtext" onchange="precio()" required>
                        <option value="">Seleccione plan</option>
                        <option value="1">Trimestral</option>
                        <option value="2">Semestral</option>
                    </select><input type="number" class="inputtext5" id="cant" name="cant" value="0" readonly><br>
                </center>
                <center>
                    <input type="text" id="carnet" name="carnet" class="inputtext"
                        placeholder="  Carné">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <input type="text" id="nombre" name="nombre" class="inputtext1" required placeholder="  Nombre" onblur="mayusculas()"><br>
                    <br>
                    <table>
                        <tr>
                            <th>Inscripción</th>
                            <td>
                                <input type="checkbox" id="insc" name="insc" value="1" onchange="check()">
                                <label for="insc" id="linsc">Q 0.00</label>
                                <input type="number" id="ciclo" name="ciclo" class="inputtext" placeholder="  Ciclo" required disabled>
                            </td>
                        </tr>
						<tr>
							<th>Ciclo de Mensualidades</th>
							<td>
								<select name="ciclomen" id="ciclomen" class="inputtext" required>
									<option value="">Seleccione ciclo de mensualidades</option>
									<option value="1">Ciclo 1</option>
									<option value="2">Ciclo 2</option>
									<option value="3">Ciclo 3</option>
									<option value="4">Ciclo 4</option>
								</select>
							</td>
						</tr>
                        <tr>
                            <th>Mensualidades</th>
                            <td>
                                <div id="myDiv">
                                    <input type="text" id="mes0" name="mes0" class="inputtext1" placeholder="  Mes" list="meses">
                                </div>
                            </td>
                        </tr>
                    </table>
                </center>
                <br>
                <center><button onclick="submit" class="button">Aceptar</button> <button type="button" class="button"
                        onclick="agregar('')">Agregar Campo</button> <button type="button" class="button"
                        onclick="eliminar('')">Eliminar Campo</button></center>
                <br>
                <hr>
            </form>
            <datalist id="meses">
                {% for i in meses %}
                <option>{{i}}</option>
                {% endfor %}
            </datalist>
        </div>
    </main>
    <!-- page-content" -->
</div>
<script type="text/javascript">
	window.onload = function(){
        var mensaje = {{ mensaje }}
        if(mensaje == 1) {
            return alert("No se puede ingresar pago de mes duplicado");
        }else {
            return 0;
        }
    }

    function check() {
        var check = document.getElementById('insc')
        var ciclo = document.getElementById('ciclo')
        if(check.checked){
            ciclo.disabled = false
        }else{
            ciclo.disabled = true
        }
    }
    function precio() {
        var select = document.getElementById('plan')
        var label = document.getElementById('linsc')
        var arreglo = {{ cuotas | tojson }};
        if(parseInt(select.value) == 1){
			var total = parseFloat(arreglo[1][1]) + parseFloat(arreglo[0][1])
            label.innerHTML = "Q " + String(total.toFixed(2))
        }else if(parseInt(select.value) == 2){
            var total = parseFloat(arreglo[1][1]) + parseFloat(arreglo[0][1])
            label.innerHTML = "Q " + String(total.toFixed(2))
        }else {
            label.innerHTML = "Q 0.00"
        }
    }
    function mayusculas() {
        var nombre = document.getElementById('nombre').value
        nombre = nombre.toUpperCase()
        document.getElementById('nombre').value = nombre
    }
    function eliminar() {
        var num = parseInt(document.getElementById('cant').value)
        if (num > 0) {
            var input = document.getElementById('mes' + String(num))
            var div = document.getElementById('myDiv')
            var brs = div.getElementsByTagName('br')
            var largo = brs.length
            input.remove()
            brs[largo - 1].remove()
            document.getElementById('cant').value = num - 1
        }
    }
    function agregar() {
        var div = document.getElementById('myDiv')
        var input = document.createElement('input')
        var num = parseInt(document.getElementById('cant').value) + 1
        document.getElementById('cant').value = num
        input.type = 'text'
        input.id = 'mes' + String(num)
        input.name = 'mes' + String(num)
        input.className = 'inputtext1'
        input.placeholder = '  Mes'
        input.setAttribute('list', 'meses');
        var br = document.createElement('br')
        div.appendChild(br)
        div.appendChild(input)
    }
</script>
<!-- page-wrapper -->
{% endblock %}